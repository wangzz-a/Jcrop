<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Jcrop Instances | Jcrop</title>
    <meta name="description" content="Javascript cropping engine">
    
    
    <link rel="preload" href="/assets/css/0.styles.fb1f3510.css" as="style"><link rel="preload" href="/assets/js/app.0ab68f22.js" as="script"><link rel="preload" href="/assets/js/20.d9f50b8a.js" as="script"><link rel="prefetch" href="/assets/js/14.0bfdfd6f.js"><link rel="prefetch" href="/assets/js/1.dd923391.js"><link rel="prefetch" href="/assets/js/2.88e361a5.js"><link rel="prefetch" href="/assets/js/4.3687bdf3.js"><link rel="prefetch" href="/assets/js/5.db9ab719.js"><link rel="prefetch" href="/assets/js/6.b0b5e941.js"><link rel="prefetch" href="/assets/js/7.0099cf45.js"><link rel="prefetch" href="/assets/js/8.a5fd88be.js"><link rel="prefetch" href="/assets/js/9.d6bc196a.js"><link rel="prefetch" href="/assets/js/10.71ea00b4.js"><link rel="prefetch" href="/assets/js/11.a3f6bd9e.js"><link rel="prefetch" href="/assets/js/12.27616d51.js"><link rel="prefetch" href="/assets/js/13.256723be.js"><link rel="prefetch" href="/assets/js/15.37190fd6.js"><link rel="prefetch" href="/assets/js/16.5b128697.js"><link rel="prefetch" href="/assets/js/17.de62b502.js"><link rel="prefetch" href="/assets/js/18.88d8f439.js"><link rel="prefetch" href="/assets/js/19.4ce2cce5.js"><link rel="prefetch" href="/assets/js/21.96fd6ef5.js"><link rel="prefetch" href="/assets/js/22.24613bcd.js"><link rel="prefetch" href="/assets/js/23.ad31e5c0.js"><link rel="prefetch" href="/assets/js/24.32bf7545.js"><link rel="prefetch" href="/assets/js/25.c4c445c5.js"><link rel="prefetch" href="/assets/js/26.7a792e0c.js"><link rel="prefetch" href="/assets/js/27.7e314c9d.js"><link rel="prefetch" href="/assets/js/28.9c620152.js"><link rel="prefetch" href="/assets/js/29.a9d274da.js"><link rel="prefetch" href="/assets/js/30.7c4e1aa3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fb1f3510.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Jcrop</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">Docs</a></div><div class="nav-item"><a href="/examples/" class="nav-link">Examples</a></div><div class="nav-item"><a href="https://github.com/tapmodo/Jcrop" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">Docs</a></div><div class="nav-item"><a href="/examples/" class="nav-link">Examples</a></div><div class="nav-item"><a href="https://github.com/tapmodo/Jcrop" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>Documentation</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/guide/" class="sidebar-link">Quickstart Guide</a></li><li><a href="/guide/instance.html" class="active sidebar-link">Jcrop Instances</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/instance.html#creating-an-instance" class="sidebar-link">Creating an Instance</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/instance.html#attaching-to-any-element" class="sidebar-link">Attaching to any element</a></li><li class="sidebar-sub-header"><a href="/guide/instance.html#attaching-to-images" class="sidebar-link">Attaching to images</a></li><li class="sidebar-sub-header"><a href="/guide/instance.html#preloading-images" class="sidebar-link">Preloading Images</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/instance.html#instance-methods" class="sidebar-link">Instance Methods</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/instance.html#setoptions-options" class="sidebar-link">setOptions(options)</a></li><li class="sidebar-sub-header"><a href="/guide/instance.html#addwidget-widget" class="sidebar-link">addWidget(widget)</a></li><li class="sidebar-sub-header"><a href="/guide/instance.html#newwidget-rect-options" class="sidebar-link">newWidget(rect,options)</a></li><li class="sidebar-sub-header"><a href="/guide/instance.html#css-class-management" class="sidebar-link">CSS class management</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/instance.html#instance-properties" class="sidebar-link">Instance Properties</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/instance.html#active" class="sidebar-link">active</a></li><li class="sidebar-sub-header"><a href="/guide/instance.html#crops" class="sidebar-link">crops</a></li><li class="sidebar-sub-header"><a href="/guide/instance.html#el" class="sidebar-link">el</a></li><li class="sidebar-sub-header"><a href="/guide/instance.html#options" class="sidebar-link">options</a></li><li class="sidebar-sub-header"><a href="/guide/instance.html#srcel" class="sidebar-link">srcEl</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/instance.html#removing-an-instance" class="sidebar-link">Removing an Instance</a></li></ul></li><li><a href="/guide/widgets.html" class="sidebar-link">Widget Instances</a></li><li><a href="/guide/options.html" class="sidebar-link">Configuration Options</a></li><li><a href="/guide/styling.html" class="sidebar-link">Styling and CSS</a></li><li><a href="/guide/events.html" class="sidebar-link">Events and Handlers</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Reference</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Examples</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Appendix</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="jcrop-instances"><a href="#jcrop-instances" aria-hidden="true" class="header-anchor">#</a> Jcrop Instances</h1> <blockquote><p><strong>stage /stāj/</strong> a raised floor or platform, typically in a theater, on which actors, entertainers, or speakers perform</p></blockquote> <blockquote><p>Jcrop is totally object-oriented. If you have a complete understanding
of Javascript, object-oriented programming, and web development/debugging
techniques, this documentation may be superfluous.</p></blockquote> <p>In object-oriented programming, an important distinction exists between
the object definition (usually a <code>class</code>) and instances of that object.
Javascript has historically had an unusual inheritance method based on
prototypes, but the concept of instances is still the same. Frequently,
object instances are created using the <code>new</code> keyword.</p> <h2 id="creating-an-instance"><a href="#creating-an-instance" aria-hidden="true" class="header-anchor">#</a> Creating an Instance</h2> <p>You're probably already familliar with creating a Jcrop instance:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> jcrop <span class="token operator">=</span> Jcrop<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>To use an instance, you will most likely want to store it in a
variable as shown here. To avoid confusion, this documentation
uses the variable <code>jcrop</code> to indicate a Jcrop instance.</p> <div class="tip custom-block"><p class="custom-block-title">Where is new?</p> <p>By design, Jcrop objects are instantiated using static methods
such as <code>Jcrop.attach()</code> or <code>Jcrop.Widget.create()</code>—although
you don't see the <code>new</code> keyword, these functions use <code>new</code> internally
to create objects under the hood. These static methods perform
additional configuration, so they should be used unless you're
doing some hacking.</p></div> <h3 id="attaching-to-any-element"><a href="#attaching-to-any-element" aria-hidden="true" class="header-anchor">#</a> Attaching to any element</h3> <p>Jcrop attaches to any DOM element easily. The element can
be passed as a Javascript object or a string that matches the
ID of an element already in the DOM.</p> <div class="language-html extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>picture.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>target<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  Jcrop<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>Element must exist in the DOM</li> <li>Element should be an image or block element</li> <li>An HTMLElement object may be passed</li> <li>If a string is passed, <code>document.getElementById()</code> is used</li></ul> <h3 id="attaching-to-images"><a href="#attaching-to-images" aria-hidden="true" class="header-anchor">#</a> Attaching to images</h3> <p>Images get slightly special treatment when you attach a Jcrop instance.</p> <ul><li>Container element created and CSS classes assigned to it</li> <li>Container element inserted where the image tag exists in the DOM</li> <li>Image element is moved inside the container element</li></ul> <p>The effect of this is that the image is wrapped in a container which
allows Jcrop to position its UI elements on top of the image.
Please inspect the structure of the elements and how CSS is applied to
them if you are having layout issues using Jcrop with your current CSS.</p> <p>Because of these positioning needs, the container is <code>position: relative</code>
and the image is made <code>position: absolute</code>. The container element is then
sized to the size of the image element in the DOM. Also note that an
<code>onload</code> handler is attached to the image, so that the container size
can be updated when/if an image becomes loaded.</p> <h3 id="preloading-images"><a href="#preloading-images" aria-hidden="true" class="header-anchor">#</a> Preloading Images</h3> <p>The most common use case for Jcrop is cropping an image. For Jcrop to
properly initialize in such a case, <strong>the image must already be loaded</strong>
in the DOM (at least enough to have width and height available).
Jcrop provides a convenient static method to ensure that an image is
pre-loaded before Jcrop is attached:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://d3o1694hluedf9.cloudfront.net/sierra-750.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>target<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>Jcrop<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>img <span class="token operator">=&gt;</span> Jcrop<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Of course, the <code>Jcrop.load()</code> static method can take an element as well.
If you wanted to create the <code>Image</code> element programatically, just make
sure you add it to the DOM.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> myImage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myImage<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'https://d3o1694hluedf9.cloudfront.net/sierra-750.jpg'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>myImage<span class="token punctuation">)</span><span class="token punctuation">;</span>
Jcrop<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>myImage<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>img <span class="token operator">=&gt;</span> Jcrop<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="instance-methods"><a href="#instance-methods" aria-hidden="true" class="header-anchor">#</a> Instance Methods</h2> <h3 id="setoptions-options"><a href="#setoptions-options" aria-hidden="true" class="header-anchor">#</a> setOptions(options)</h3> <p>Jcrop options can be changed on-the-fly using the setOptions() method.
The instance will react to any changed options immediately.</p> <div class="language-js extra-class"><pre class="language-js"><code>jcrop<span class="token punctuation">.</span><span class="token function">setOptions</span><span class="token punctuation">(</span><span class="token punctuation">{</span> shade<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">Instance options vs. Widget options</p> <p>Jcrop instances maintain a set of options that are inherited by any
cropping widgets that are attached. When <code>setOptions()</code> is called
on the instance, the same options are passed to any widgets that
are attached to the instance.</p></div> <h3 id="addwidget-widget"><a href="#addwidget-widget" aria-hidden="true" class="header-anchor">#</a> addWidget(widget)</h3> <p>Add an existing cropping widget to the Jcrop instance. To use this
method, you'll need to create the cropping widget first. This method
is called internally when <code>newWidget()</code> is used (see below).</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> widget <span class="token operator">=</span> Jcrop<span class="token punctuation">.</span>Widget<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcrop<span class="token punctuation">.</span><span class="token function">addWidget</span><span class="token punctuation">(</span>widget<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Note that this code would create a widget and attach it to the Jcrop
stage instance, but it will probably require some positioning and
other configuration. It's recommended to use a <code>Rect</code> with the
<code>newWidget()</code> method instead.</p> <h3 id="newwidget-rect-options"><a href="#newwidget-rect-options" aria-hidden="true" class="header-anchor">#</a> newWidget(rect,options)</h3> <p>Add a new cropping widget using a <a href="/objects/rect.html"><code>Rect</code></a> object.
<a href="/objects/rect.html"><code>Rect</code></a> objects define a rectangular region.</p> <div class="language-js extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br></div><pre class="language-js"><code><span class="token keyword">const</span> rect <span class="token operator">=</span> Jcrop<span class="token punctuation">.</span>Rect<span class="token punctuation">.</span><span class="token function">fromPoints</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcrop<span class="token punctuation">.</span><span class="token function">newCropper</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span><span class="token punctuation">{</span> aspectRatio<span class="token punctuation">:</span> rect<span class="token punctuation">.</span>aspect <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="css-class-management"><a href="#css-class-management" aria-hidden="true" class="header-anchor">#</a> CSS class management</h3> <ul><li><strong>addClass(classname)</strong></li> <li><strong>removeClass(classname)</strong></li> <li><strong>hasClass(classname)</strong></li></ul> <p>As a class extended from <code>DomObj</code>, the methods <code>addClass()</code>,
<code>removeClass()</code> and <code>hasClass()</code> are available to manage CSS
classes on the container element. There are some useful classes
that can be added to the container (or a parent element) to
affect the UI/UX of the instance.</p> <h2 id="instance-properties"><a href="#instance-properties" aria-hidden="true" class="header-anchor">#</a> Instance Properties</h2> <h3 id="active"><a href="#active" aria-hidden="true" class="header-anchor">#</a> <code>active</code></h3> <p>Contains a reference to the most recently selected or active widget.
Once any widget is attached to the instance, the <code>active</code> property
will always contain a value, unless all widgets are removed from
the instance.</p> <h3 id="crops"><a href="#crops" aria-hidden="true" class="header-anchor">#</a> <code>crops</code></h3> <p>A <code>Set</code> that contains any crop widgets currently attached to this
Jcrop instance. The last widget in the Set is the <code>active</code> widget.</p> <h3 id="el"><a href="#el" aria-hidden="true" class="header-anchor">#</a> <code>el</code></h3> <p>Contains a reference to the DOM element that this Jcrop instance is
attached to. This is almost always a div or block element of some type.</p> <h3 id="options"><a href="#options" aria-hidden="true" class="header-anchor">#</a> <code>options</code></h3> <p>The <code>options</code> object for the Jcrop instance. While you may read from
this object, it's recommended that you do not update it directly.
Use the <code>setOptions()</code> method described above if you want to modify
the options after the instance has been created.</p> <h3 id="srcel"><a href="#srcel" aria-hidden="true" class="header-anchor">#</a> <code>srcEl</code></h3> <p>This property is only defined if the <code>ImageStage</code> is being used.
It contains a reference to the original source image after wrapping.</p> <h2 id="removing-an-instance"><a href="#removing-an-instance" aria-hidden="true" class="header-anchor">#</a> Removing an Instance</h2> <p>Jcrop instances provide a <code>destroy()</code> method to remove the instance.</p> <div class="language-js extra-class"><pre class="language-js"><code>jcrop<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This feature is not well defined currently. No guarantees are made. 😃</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/guide/" class="prev router-link-active">
          Quickstart Guide
        </a></span> <span class="next"><a href="/guide/widgets.html">
          Widget Instances
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/20.d9f50b8a.js" defer></script><script src="/assets/js/app.0ab68f22.js" defer></script>
  </body>
</html>
